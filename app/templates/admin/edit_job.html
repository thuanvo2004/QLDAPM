{% extends "admin/layout.html" %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">‚úèÔ∏è Ch·ªânh s·ª≠a tin tuy·ªÉn d·ª•ng</h2>

  <form method="POST" action="{{ url_for('admin.edit_job', job_id=job.id) }}">
    <div class="row">
      <!-- Th√¥ng tin c∆° b·∫£n -->
      <div class="col-md-6">
        <div class="card mb-4 shadow-sm">
          <div class="card-header bg-primary text-white">
            Th√¥ng tin c∆° b·∫£n
          </div>
          <div class="card-body">
            <div class="mb-3">
              <label for="title" class="form-label">Ti√™u ƒë·ªÅ c√¥ng vi·ªác</label>
              <input type="text" class="form-control" id="title" name="title" value="{{ job.title }}" required>
            </div>
            <div class="mb-3">
              <label for="job_type" class="form-label">Lo·∫°i c√¥ng vi·ªác</label>
              <select class="form-select" id="job_type" name="job_type">
                <option value="Full-time" {% if job.job_type == "Full-time" %}selected{% endif %}>Full-time</option>
                <option value="Part-time" {% if job.job_type == "Part-time" %}selected{% endif %}>Part-time</option>
                <option value="Internship" {% if job.job_type == "Internship" %}selected{% endif %}>Internship</option>
                <option value="Contract" {% if job.job_type == "Contract" %}selected{% endif %}>Contract</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="remote_option" class="form-label">H√¨nh th·ª©c l√†m vi·ªác</label>
              <select class="form-select" id="remote_option" name="remote_option">
                <option value="Onsite" {% if job.remote_option == "Onsite" %}selected{% endif %}>Onsite</option>
                <option value="Remote" {% if job.remote_option == "Remote" %}selected{% endif %}>Remote</option>
                <option value="Hybrid" {% if job.remote_option == "Hybrid" %}selected{% endif %}>Hybrid</option>
              </select>
            </div>
          </div>
        </div>
      </div>

      <!-- L∆∞∆°ng -->
      <div class="col-md-6">
        <div class="card mb-4 shadow-sm">
          <div class="card-header bg-success text-white">
            Th√¥ng tin l∆∞∆°ng
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col">
                <label for="salary_min" class="form-label">M·ª©c l∆∞∆°ng t·ªëi thi·ªÉu</label>
                <input type="number" class="form-control" id="salary_min" name="salary_min" value="{{ job.salary_min }}">
              </div>
              <div class="col">
                <label for="salary_max" class="form-label">M·ª©c l∆∞∆°ng t·ªëi ƒëa</label>
                <input type="number" class="form-control" id="salary_max" name="salary_max" value="{{ job.salary_max }}">
              </div>
            </div>
            <div class="mt-3">
              <label for="currency" class="form-label">ƒê∆°n v·ªã ti·ªÅn t·ªá</label>
              <select class="form-select" id="currency" name="currency">
                <option value="VND" {% if job.currency == "VND" %}selected{% endif %}>VND</option>
                <option value="USD" {% if job.currency == "USD" %}selected{% endif %}>USD</option>
                <option value="EUR" {% if job.currency == "EUR" %}selected{% endif %}>EUR</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- N·ªôi dung m√¥ t·∫£ -->
    <div class="card mb-4 shadow-sm">
      <div class="card-header bg-info text-white">
        N·ªôi dung c√¥ng vi·ªác
      </div>
      <div class="card-body">
        <div class="mb-3">
          <label for="description" class="form-label">M√¥ t·∫£</label>
          <textarea class="form-control" id="description" name="description" rows="4">{{ job.description }}</textarea>
        </div>
        <div class="mb-3">
          <label for="requirements" class="form-label">Y√™u c·∫ßu</label>
          <textarea class="form-control" id="requirements" name="requirements" rows="3">{{ job.requirements }}</textarea>
        </div>
        <div class="mb-3">
          <label for="benefits" class="form-label">Quy·ªÅn l·ª£i</label>
          <textarea class="form-control" id="benefits" name="benefits" rows="3">{{ job.benefits }}</textarea>
        </div>
      </div>
    </div>

    <!-- ƒê·ªãa ch·ªâ -->
    <div class="card mb-4 shadow-sm">
      <div class="card-header bg-warning">
        ƒê·ªãa ch·ªâ l√†m vi·ªác
      </div>
      <div class="card-body">
        <div class="row mb-3">
          <div class="col">
            <label for="city" class="form-label">Th√†nh ph·ªë</label>
            <input type="text" class="form-control" id="city" name="city" value="{{ job.city }}">
          </div>
          <div class="col">
            <label for="district" class="form-label">Qu·∫≠n/Huy·ªán</label>
            <input type="text" class="form-control" id="district" name="district" value="{{ job.district }}">
          </div>
        </div>
        <div class="mb-3">
          <label for="street_address" class="form-label">ƒê·ªãa ch·ªâ chi ti·∫øt</label>
          <input type="text" class="form-control" id="street_address" name="street_address" value="{{ job.street_address }}">
        </div>
      </div>
    </div>

    <!-- Th·ªùi gian l√†m vi·ªác -->
    <div class="card mb-4 shadow-sm">
      <div class="card-header bg-secondary text-white">
        Th·ªùi gian l√†m vi·ªác
      </div>
      <div class="card-body">
        <div class="row mb-3">
          <div class="col">
            <label for="work_start_time" class="form-label">Gi·ªù b·∫Øt ƒë·∫ßu</label>
            <input type="time" class="form-control" id="work_start_time" name="work_start_time" value="{{ job.work_start_time }}">
          </div>
          <div class="col">
            <label for="work_end_time" class="form-label">Gi·ªù k·∫øt th√∫c</label>
            <input type="time" class="form-control" id="work_end_time" name="work_end_time" value="{{ job.work_end_time }}">
          </div>
        </div>
        <div class="mb-3">
          <label for="working_days" class="form-label">Ng√†y l√†m vi·ªác</label>
          <input type="text" class="form-control" id="working_days" name="working_days" value="{{ job.working_days }}">
          <small class="text-muted">V√≠ d·ª•: T2-T6 ho·∫∑c T2-T7</small>
        </div>
      </div>
    </div>

    <!-- Deadline & Ph·ªèng v·∫•n -->
    <div class="row">
      <div class="col-md-6">
        <div class="card mb-4 shadow-sm">
          <div class="card-header bg-danger text-white">
            H·∫°n n·ªôp h·ªì s∆°
          </div>
          <div class="card-body">
            <input type="date" class="form-control" id="deadline" name="deadline" value="{{ job.deadline }}">
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card mb-4 shadow-sm">
          <div class="card-header bg-dark text-white">
            Ng√†y ph·ªèng v·∫•n (d·ª± ki·∫øn)
          </div>
          <div class="card-body">
            <input type="datetime-local" class="form-control" id="interview_date" name="interview_date" value="{{ job.interview_date }}">
          </div>
        </div>
      </div>
    </div>

    <!-- Submit -->
    <div class="text-end mb-4">
      <button type="submit" class="btn btn-primary btn-lg">üíæ L∆∞u thay ƒë·ªïi</button>
      <a href="{{ url_for('admin.list_jobs') }}" class="btn btn-secondary btn-lg">‚ùå H·ªßy</a>
    </div>
  </form>
</div>
{% endblock %}
