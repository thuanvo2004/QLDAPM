<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ cv.full_name or "CV" }} - CV Cổ Điển</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44u6yO3Q55F-tI9T84F-B5c6sL0G1E-z1sP9s6y-h5n4F-L5o0eXy1fT5F4G1L5f5" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background: #f3f4f6;
            -webkit-print-color-adjust: exact;
        }
        .container {
            max-width: 800px;
        }
        .section-title {
            font-weight: 700;
            color: #2D3748;
            border-bottom: 2px solid #E2E8F0;
            padding-bottom: 8px;
        }
        /* Cải thiện hiển thị trên màn hình lớn và in ấn */
        @media print {
            .container {
                box-shadow: none;
                border: 1px solid #e6e6e6;
            }
        }
        .text-sm-fixed {
            font-size: 0.875rem; /* 14px */
        }
        .text-base-fixed {
            font-size: 1rem; /* 16px */
        }
    </style>
</head>
<body class="bg-gray-100 p-8">
    <div class="container mx-auto bg-white rounded-xl shadow-xl p-8 space-y-8">

        <!-- Header và Thông tin liên hệ -->
        <div class="text-center space-y-2">
            <h1 class="text-4xl font-bold text-gray-800">{{ cv.full_name or "NGUYỄN VĂN A" }}</h1>
            {% if cv.title %}
            <p class="text-gray-600 text-lg">{{ cv.title }}</p>
            {% endif %}
            <div class="flex flex-col md:flex-row justify-center items-center space-y-2 md:space-y-0 md:space-x-6 mt-4 text-gray-600">
                {% if cv.email %}
                <div class="flex items-center space-x-2 text-sm-fixed">
                    <i class="fas fa-envelope text-gray-500"></i>
                    <a href="mailto:{{ cv.email }}" class="hover:underline">{{ cv.email }}</a>
                </div>
                {% endif %}
                {% if cv.phone %}
                <div class="flex items-center space-x-2 text-sm-fixed">
                    <i class="fas fa-phone-alt text-gray-500"></i>
                    <p>{{ cv.phone }}</p>
                </div>
                {% endif %}
                {% if cv.address %}
                <div class="flex items-start space-x-2 text-sm-fixed break-words max-w-xs text-center md:text-left">
                    <i class="fas fa-map-marker-alt text-gray-500 mt-1"></i>
                    <p class="flex-1">{{ cv.address }}</p>
                </div>
                {% endif %}
                {% if cv.linkedin %}
                <div class="flex items-center space-x-2 text-sm-fixed">
                    <i class="fab fa-linkedin text-gray-500"></i>
                    <a href="{{ cv.linkedin }}" class="hover:underline">{{ cv.linkedin }}</a>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Tóm tắt cá nhân -->
        {% if cv.career_objective %}
        <div class="space-y-4">
            <h2 class="text-xl section-title">Tóm tắt cá nhân</h2>
            <p class="text-gray-700 leading-relaxed text-base-fixed">
                {{ cv.career_objective }}
            </p>
        </div>
        {% endif %}

        <!-- Kinh nghiệm làm việc -->
        {% if cv.experience %}
        <div class="space-y-4">
            <h2 class="text-xl section-title">Kinh nghiệm làm việc</h2>
            {% if cv.experience_is_html %}
            <div class="text-gray-700 leading-relaxed text-base-fixed">{{ cv.experience | safe }}</div>
            {% else %}
            <p class="text-gray-700 leading-relaxed text-base-fixed whitespace-pre-line">{{ cv.experience }}</p>
            {% endif %}
        </div>
        {% endif %}

        <!-- Học vấn -->
        {% if cv.education %}
        <div class="space-y-4">
            <h2 class="text-xl section-title">Học vấn</h2>
            <p class="text-gray-700 text-base-fixed">{{ cv.education }}</p>
        </div>
        {% endif %}

        <!-- Kỹ năng -->
        {% if cv.skills %}
        <div class="space-y-4">
            <h2 class="text-xl section-title">Kỹ năng</h2>
            <ul class="list-disc list-inside space-y-2 text-gray-700 text-base-fixed">
                {% for s in cv.skills.split(',') %}
                    <li>{{ s.strip() }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        <!-- Dự án -->
        {% if cv.projects %}
        <div class="space-y-4">
            <h2 class="text-xl section-title">Dự án</h2>
            <div class="text-gray-700 leading-relaxed text-base-fixed">{{ cv.projects }}</div>
        </div>
        {% endif %}

        <!-- Thành tích -->
        {% if cv.achievements %}
        <div class="space-y-4">
            <h2 class="text-xl section-title">Thành tích</h2>
            <div class="text-gray-700 leading-relaxed text-base-fixed">{{ cv.achievements }}</div>
        </div>
        {% endif %}

        <!-- Thông tin cá nhân (nếu được phép hiển thị) -->
        {% if cv.show_sensitive %}
        <div class="space-y-4">
            <h2 class="text-xl section-title">Thông tin cá nhân</h2>
            <ul class="text-gray-700 list-inside list-disc text-base-fixed">
                {% if cv.birthdate %}<li>Ngày sinh: {{ cv.birthdate }}</li>{% endif %}
                {% if cv.gender %}<li>Giới tính: {{ cv.gender }}</li>{% endif %}
                {% if cv.nationality %}<li>Quốc tịch: {{ cv.nationality }}</li>{% endif %}
            </ul>
        </div>
        {% endif %}
    </div>
</body>
</html>